<perfect-scrollbar
  class="container"
  [defaultImage]="defaultImage"
  [lazyLoad]="image"
>
  <div class="roundedImage">
    <mat-spinner class="mat-spinner-avatar" *ngIf="!avatar"></mat-spinner>
    <img
      [defaultImage]="avatar?.lowQualityUrl"
      [lazyLoad]="avatar?.url"
      alt=""
    />
    <div class="select-image" (click)="getUserImage()">
      <mat-icon>
        autorenew
      </mat-icon>
    </div>
  </div>

  <div class="form__container">
    <form [formGroup]="form" (ngSubmit)="registerSubmit()">

      <mat-form-field appearance="outline">
        <mat-label>Nome</mat-label>
        <input
          matInput
          formControlName="name"
          placeholder="ex: Berlim Digital"
        />
        <mat-icon matSuffix>account_circle</mat-icon>

        <mat-hint>
          <app-error-msg [control]="form.get('name')" label="Nome">
          </app-error-msg>
        </mat-hint>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>E-mail</mat-label>
        <input
          matInput
          formControlName="email"
          placeholder="ex: berlim@digital.com"
        />
        <mat-icon matSuffix>email</mat-icon>

        <mat-hint>
          <app-error-msg [control]="form.get('email')" label="E-mail">
          </app-error-msg>
        </mat-hint>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Número</mat-label>
        <input
          matInput
          formControlName="number"
          placeholder="ex: Berlim Digital"
        />
        <mat-icon matSuffix>phone</mat-icon>

        <mat-hint>
          <app-error-msg [control]="form.get('number')" label="Número">
          </app-error-msg>
        </mat-hint>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Senha</mat-label>
        <input
          matInput
          placeholder="Digite sua senha"
          formControlName="password"
          [type]="hide ? 'password' : 'text'"
        />

        <mat-icon
          mat-icon-button
          matSuffix
          style="cursor: pointer"
          (click)="hide = !hide"
          [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hide"
          >{{ hide ? "visibility_off" : "visibility" }}</mat-icon
        >
        <mat-hint>
          <app-error-msg [control]="form.get('password')" label="Senha">
          </app-error-msg>
        </mat-hint>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Confirmar Senha</mat-label>
        <input
          matInput
          type="password"
          formControlName="passwordRepeat"
          placeholder="********"
        />
        <mat-icon matSuffix>lock</mat-icon>

        <mat-hint>
          <app-error-msg
            [control]="form.get('passwordRepeat')"
            label="Confirmar senha"
          >
          </app-error-msg>
        </mat-hint>
      </mat-form-field>

      <button mat-raised-button color="primary" type="submit">
        Enviar
      </button>
    </form>
    <p class="link-form">
      Já possui uma Conta? <a [routerLink]="['login']">Clique aqui</a>
    </p>
  </div>
</perfect-scrollbar>
